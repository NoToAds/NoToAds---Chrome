var pageAction=function(){var k=null;var g=function(l){if(l===1&&typeof k==="function"){k();}};var j=function(){InternalMessaging.messageToBackground({action:"pageAction",params:["show"]});};var e=function(){InternalMessaging.messageToBackground({action:"pageAction",params:["hide"]});};var b=function(l){InternalMessaging.messageToBackground({action:"pageAction",params:["setIcon",l]});};var c=function(l){InternalMessaging.messageToBackground({action:"pageAction",params:["setTitle",l]});};var h=function(l){k=l.callback;InternalMessaging.messageToBackground({action:"pageAction",params:["onClick"]});};var a=function(l){InternalMessaging.messageToBackground({action:"pageAction",params:["setPopupHTML",l]});};var f=function(){InternalMessaging.messageToBackground({action:"pageAction",params:["clearPopup"]});};var i=function(){InternalMessaging.messageToBackground({action:"pageAction",params:["closePopup"]});};var d=function(n){if(typeof n==="undefined"){return;}if((typeof n.pages==="undefined")||(n.pages.length===0)||(typeof n.imageData==="undefined")){return;}for(var l=0;l<n.pages.length;l++){var m=n.pages[l];rx=typeof(m)=="string"?new RegExp("^http.?\\:\\/\\/(?:www\\.)?"+m.replace(/^https?:\/\//,"").replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"),"i"):m;if(rx.test(document.location.href)){b(n.imageData);if(typeof n.title==="string"){c({title:n.title});}if(typeof n.callback==="function"){h({callback:n.callback});}else{if((typeof n.html==="string")&&(typeof n.width==="number")&&(typeof n.height==="number")){a({html:n.html,width:n.width,height:n.height});}}j();break;}}};return{show:j,hide:e,setIcon:b,setTitle:c,onClick:h,setPopupHTML:a,clearPopup:f,closePopup:i,innerSetPages:d,_activateCallback:g};};
